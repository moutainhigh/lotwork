!function(a,b,c,d){var e={cls:"ui-simulation-select",isInput:!1,realDom:"",tpl:'<div class="choose-model"><div class="choose-list" style="display:none;"><#=loopItems#></div><span class="info"><input data-realvalue="<#=value#>" class="choose-input" disabled="disabled" type="text" value="<#=text#>" /></span><i></i></div>',itemTpl:'<a data-value="<#=value#>" href="javascript:void(0);"><#=text#></a>'},f={init:function(a){var b=this;b.realDom=d(a.realDom),b.realDom.hide(),b.dom=null,b.listDom=null,b.buildSelect()},buildSelect:function(){for(var a=this,b=a.defConfig,c=b.tpl,e=b.itemTpl,f=a.getRealDom().options,g=f.length,h=0,i=[],j="",k="";g>h;h++)i[h]=e.replace(/<#=value#>/g,f[h].value).replace(/<#=text#>/g,f[h].text),h==a.getRealDom().selectedIndex&&(j=f[h].value,k=f[h].text);c=c.replace(/<#=text#>/g,k).replace(/<#=loopItems#>/g,i.join("")),a.dom=d(c),a.dom.addClass(b.cls),a.dom.insertBefore(a.getRealDom()),a.dom.click(function(b){var c=b.target;c.getAttribute("data-value")&&a.setValue(c.getAttribute("data-value")),a.getListDom().toggle()}),d(document).mousedown(function(b){var c=b.target;d.contains(a.dom.get(0),c)||a.getListDom().hide()}),b.isInput&&(a.getInput().removeAttr("disabled"),a.inputEvent()),a.setValue(j)},getInput:function(){var a=this;return a.input||(a.input=a.dom.find(".choose-input"))},inputEvent:function(){},getListDom:function(){var a=this;return a.listDom||(a.listDom=a.dom.find(".choose-list"))},getRealDom:function(){return this.realDom.get(0)},setValue:function(a){for(var b=this,c=b.getRealDom(),d=(c.selectedIndex,c.options),e=d.length,f=0,g="";e>f;f++)a==d[f].value?(d[f].selected=!0,g=d[f].text):d[f].selected=!1;b.getInput().attr("data-realvalue",a),g=""==g?a:g,b.getInput().val(g),b.fireEvent("change",a,g)},getValue:function(){var a=this,b=a.getRealDom(),c=b.selectedIndex;return a.defConfig.isInput?a.getInput().attr("data-realvalue"):b.options[c].value},getText:function(){var a=this.getRealDom(),b=a.selectedIndex;return a.options[b].text},show:function(){this.dom.show()},hide:function(){this.dom.hide()}},g=a.Class(f,c);g.defConfig=e,a[b]=g}(phoenix,"Select",phoenix.Event,jQuery);