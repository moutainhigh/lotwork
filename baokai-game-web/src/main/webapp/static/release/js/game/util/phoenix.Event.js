!function(a,b){var c=function(){this._isStop=!0},d={init:function(){this._events={}},addEvent:function(a,b){if(!b||"[object Function]"!==Object.prototype.toString.call(b))throw"Event.addEvent第二个参数必须是函数";var c=this,d=c._events;d[a]=d[a]||[],d[a].push(b)},removeEvent:function(a,b){var c=this,d=c._events;if(d[a]){if(!b)return void delete d[a];for(var e=d[a],f=e.length;f;)f--,e[f]===b&&e.splice(f,1);e.length||delete d[a]}},fireEvent:function(a){var b=this,d=b._events;if(d[a]){var e=d[a];if(e._isStop)return void delete e._isStop;for(var f=0,g=e.length,h={type:a,data:b,stopEvent:c},i=[h].concat(Array.prototype.slice.call(arguments,1)),f=0;g>f;f++)if(h._isStop||e[f].apply(b,i)===!1)return void(h._isStop=!1)}},stopEvent:function(a){var b=this,c=b._events;c[a]&&(c[a]._isStop=!0)}},e=a.Class(d);a[b]=e}(phoenix,"Event");