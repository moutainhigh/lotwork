!function(a,b){var c,d={containerDom:"#J-balls-order-container",totalLotterysNumDom:"#J-gameOrder-lotterys-num",totalAmountDom:"#J-gameOrder-amount",selectedClass:"game-order-current",rowTemplate:'<li data-param="action=reselect&id=<#=id#>" id="gameorder-<#=id#>"><div class="result"><span class="moneyUnitText"><#=moneyUnitText#></span><span class="bet"><#=num#>注</span><span class="multiple"><#=multiple#>倍</span><span class="price"><span>&yen;</span><#=amountText#></span><span class="close"><a data-param="action=del&id=<#=id#>" href="javascript:void(0);" title="删除">删除</a></span></div><span>[<#=typeText#>]</span><span><#=lotterysText#></span></li>',lotterysTextLength:40,addOrderDom:"#J-add-order"},e=a.Games,f=1,g=a.GameOrder,h=(Object.prototype.toString,{add:function(a){var b=this,c="",d=-1,g=b.defConfig.rowTemplate,h=(e.getCurrentGameStatistics().getMultipleLimit(),e.getCurrentGameTrace().isOpen(),e.getCurrentGameStatistics().getAllMultiple());if(b.fireEvent("beforeAdd",a),!(a.lotterys&&a.lotterys.length>0)){var i=e.getCurrentGameMessage();return void((!a.original||a.original.length<=0)&&i.show({type:"mustChoose",msg:'<span class="color-red">&nbsp;号码选择不完整，请重新选择！</span>',data:{tplData:{msg:'<span class="color-red">&nbsp;号码选择不完整，请重新选择！</span>'}}}))}if(b.currentSelectId>0)a.id=b.currentSelectId;else{if(d=b.checkData(a),-1!=d)return void e.getCurrentGameMessage().show({type:"normal",closeText:"确定",closeFun:function(){b.addMultiple(a.multiple,d),this.hide()},data:{tplData:{msg:"您选择的号码在号码篮已存在，将直接进行倍数累加"}}});a.id=f++}a.postParameter=e.getCurrentGame().getCurrentGameMethod().makePostParameter(a.original,a),a.oldMultiple=a.multiple,a.multiple=a.multiple*h,a.amount=b.formatMoney(a.onePrice*a.multiple*a.moneyUnit*a.num),a.amountText=a.amount,c=b.formatRow(g,b.rebuildData(a)),b.currentSelectId>0?b.replaceOrder(a.id,a):b.addData(a),b.currentSelectId>0?($(c).replaceAll($("#gameorder-"+b.currentSelectId)),b.cancelSelectOrder()):$(c).prependTo(b.container),e.getCurrentGame().getCurrentGameMethod().reSet(),e.getCurrentGameStatistics().reSet(),b.updateData(),b.fireEvent("afterAdd",a)},selectOrderById:function(a){var b=this,c=b.getOrderById(a),d=c.original,f=c.type,g=b.defConfig.selectedClass,h=$("#gameorder-"+a);-1==b.getOrderById(a).type.indexOf("danshi")&&(h.parent().children().removeClass(g),h.addClass(g),e.getCurrentGameTypes().changeMode(f),e.getCurrentGameStatistics().getMoneyUnitDom().setValue(c.moneyUnit),e.getCurrentGameStatistics().getMultipleDom().setValue(c.oldMultiple),e.getCurrentGame().getCurrentGameMethod().reSelect(d),b.currentSelectId=a,b.updateDomStatus())},formatMoney:function(a){var a=Number(a),b=/(-?\d+)(\d{3})/;for(a=Number.prototype.toFixed?a.toFixed(2):Math.round(100*a)/100,a=""+a;b.test(a);)a=a.replace(b,"$1,$2");return a}}),i=a.Class(h,g);i.defConfig=d,i.getInstance=function(a){return c||(c=new i(a))},a[b]=i}(phoenix,"GameMMCOrder");