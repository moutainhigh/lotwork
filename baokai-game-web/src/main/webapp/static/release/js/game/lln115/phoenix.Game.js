!function(a,b,c){var d={name:"",basePath:staticFileContextPath+"/static/js/game/",baseNamespace:"phoenix.Games.",dynamicConfigUrl:"",eventProxyPanel:"body"},e=a.Games,f=function(a){for(var b,c=$.trim(a).split("&"),d=0,e=c.length,f={};e>d;d++)b=c[d].split("="),b.length>0&&(f[b[0]]=2==b.length?b[1]:"");return f},g={init:function(a){var b=this;b.setName(a.name),b.currentNumber="",b.currentIssueCode=0,e.setCurrentGame(b),b.loadedHas={},b.currentGameMethod=null,b.dynamicConfig=null,b.methodLoadCache=!1,b.addEvent("afterSwitchGameMethod",function(){e.getCurrentGame().getCurrentGameMethod().reSet(),b.methodLoadCache=!1;var a=e.getCurrentGame().getCurrentGameMethod().getGameMethodName(),c=e.getCurrentGame().getDynamicConfig().gamelimit;e.getCurrentGameStatistics().setMultipleLimit(c[a]?c[a].maxmultiple:-1),e.getCurrentGameStatistics().setMultipleDom(1),e.getCurrentGameStatistics().setMoneyUnitDom(1),e.getCurrentGameTrace().hide(),e.getCurrentGame().getCurrentGameMethod().updataGamesInfo()}),b.addEvent("changeDynamicConfig",function(){b.updateDynamicConfig()})},getMaxMultipleLimit:function(a){var b=a||e.getCurrentGame().getCurrentGameMethod().getGameMethodName(),c=e.getCurrentGame().getDynamicConfig().gamelimit;return Number(c[b].maxmultiple)},getDynamicConfigUrl:function(){return e.getCurrentGame().getGameConfig().getInstance().getDynamicConfigUrl()},getServerDynamicConfig:function(a){var b=this,c=(b.defConfig,b.getName());$.ajax({url:e.getCurrentGame().getGameConfig().getInstance().getDynamicConfigUrl()+"?gametype="+c,dataType:"JSON",cache:!1,success:function(c){if(1==Number(c.isSuccess)){var d=c.data,e=JSON.stringify(c.data.gamelimit);e=e.replace("[",""),e=e.replace("]",""),gamelimit=jQuery.parseJSON(e),delete d.gamelimit,d.gamelimit=gamelimit,b.setDynamicConfig(d),$.isFunction(a)&&a.call(b,c.data)}}})},getDynamicConfig:function(){return this.dynamicConfig},setDynamicConfig:function(a){this.dynamicConfig=a,this.fireEvent("changeDynamicConfig",a)},addDynamicBonus:function(a,b){var c=this,d=c.getDynamicConfig();"undefined"!=typeof d.gamelimit&&"undefined"!=typeof d.gamelimit[a]&&(d.gamelimit[a].usergroupmoney=b)},updateDynamicConfig:function(){var a=this,b=a.getDynamicConfig(),c=b.lastballs.split(",");return 1==b.isstop?void setTimeout(function(){phoenix.Games.getCurrentGameMessage().show({type:"lotteryClose",data:{tplData:{lotterys:[1,2,3,4,5,6],lotteryName:"shishicai",lotteryPeriods:"20130528-276",orderDate:{year:"2013",month:"5",day:"3",hour:"1",min:"30"},lotteryType:[{name:"leli",pic:"#",url:"http://163.com"},{name:"kuaile8",pic:"#",url:"http://pp158.com"}]}}})},1e3):(a.setCurrentNumber(b.number),a.setCurrentIssueCode(b.issueCode),$("#J-lotter-info-number").html(b.number),$("#J-lottery-info-currentIssue").val(b.issueCode),$("#J-lotter-info-lastnumber").html(b.lastnumber),$("#J-lottery-info-balls").find("em").each(function(a){this.innerHTML=c[a]}),e.cacheData.frequency={},void(e.cacheData.charts={}))},eventProxy:function(){var a=this,b=a.defConfig,c=$(b.eventProxyPanel);c.click(function(b){var c,d,e=b.target.getAttribute("data-param");e&&""!=$.trim(e)&&(b.preventDefault(),c=f(e),d=a.getCurrentGameMethod(),d&&d.exeEvent(c,b.target))})},getGameMethodByName:function(a){var b=this,c=b.loadedHas;return b.hasOwnProperty(a)&&c.hasOwnProperty(b.buildPath(a))?b[a]:void 0},switchGameMethod:function(a){{var b,c,d=this;d.loadedHas}if(!d.methodLoadCache){d.methodLoadCache=!0,d.fireEvent("beforeSwitchGameMethod",a);for(b in d)d.getGameMethodByName(b)&&(b!=a?d[b].hide():(d[b].show(),d.currentGameMethod=d[b],d.fireEvent("afterSwitchGameMethod")));d.getGameMethodByName(a)||d.setup(a,function(){c=d.getGameMethodByName(a),c.show(),d.currentGameMethod=c,d.fireEvent("afterSetup"),d.fireEvent("afterSwitchGameMethod")})}},getCurrentGameMethod:function(){return this.currentGameMethod},setup:function(a){var b,c=this,d=c.buildPath(a),e=function(){};b=arguments.length>0?arguments[arguments.length-1]:e,$.isFunction(b)||(b=e),c.isSetuped(a)||$.ajax({url:d,cache:!1,dataType:"script",success:function(){c.loadedHas[d]=!0,b.call(c)},error:function(a,b){alert("资源加载失败\n"+d+"\n错误类型："+b)}})},buildPath:function(a){var b=this,c=b.defConfig.basePath,d=b.defConfig.baseNamespace,e=c+d+a+".js";return e},isSetuped:function(a){var b=this,c=b.loadedHas,d=b.buildPath(a);return c.hasOwnProperty(d)},setSetuped:function(){},getGameConfig:function(){},getName:function(){return this.name},setName:function(a){this.name=a},setCurrentNumber:function(a){this.currentNumber=a},getCurrentNumber:function(){return this.currentNumber},setCurrentIssueCode:function(a){this.currentIssueCode=a},getCurrentIssueCode:function(){return this.currentIssueCode},editSubmitData:function(a){return a},bonusGroupProce:function(){}},h=a.Class(g,c);h.defConfig=d,a[b]=h}(phoenix,"Game",phoenix.Event);